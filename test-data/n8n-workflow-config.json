{
  "workflow_name": "AI Blog Article Generator",
  "webhook_url": "https://effective-marketer-dashobard.onrender.com/api/blog/webhook",
  
  "n8n_nodes": {
    "1_trigger": {
      "type": "Manual Trigger",
      "description": "Start the workflow manually or via schedule"
    },
    
    "2_ai_content": {
      "type": "OpenAI",
      "description": "Generate article content using AI",
      "settings": {
        "operation": "Text Completion",
        "model": "gpt-4",
        "prompt": "Write a comprehensive blog article about {{$json.topic}} in HTML format. Include proper H1, H2, H3 headings, paragraphs, lists, and tables where appropriate. Focus on SEO best practices and actionable insights.",
        "max_tokens": 2000,
        "temperature": 0.7
      }
    },
    
    "3_content_processor": {
      "type": "Code",
      "description": "Process AI content and prepare webhook payload",
      "code": "// Extract title from AI content\nconst content = $input.first().json.choices[0].text;\nconst titleMatch = content.match(/<h1[^>]*>(.*?)<\\/h1>/i);\nconst title = titleMatch ? titleMatch[1].replace(/<[^>]*>/g, '') : $json.topic;\n\n// Determine category based on content\nlet category = 'AI SEO Strategy';\nif (content.toLowerCase().includes('autosuggest') || content.toLowerCase().includes('autocomplete')) {\n  category = 'Autocomplete SEO';\n} else if (content.toLowerCase().includes('lead generation') || content.toLowerCase().includes('cold email')) {\n  category = 'Lead Generation';\n} else if (content.toLowerCase().includes('case study') || content.toLowerCase().includes('results')) {\n  category = 'Case Studies';\n}\n\n// Extract keywords for tags\nconst keywords = [];\nif (content.toLowerCase().includes('seo')) keywords.push('SEO');\nif (content.toLowerCase().includes('ai')) keywords.push('AI');\nif (content.toLowerCase().includes('autosuggest')) keywords.push('Google Autosuggest');\nif (content.toLowerCase().includes('lead')) keywords.push('Lead Generation');\nif (content.toLowerCase().includes('email')) keywords.push('Cold Email');\n\n// Prepare webhook payload\nconst payload = {\n  title: title,\n  content: content,\n  category: category,\n  tags: keywords.length > 0 ? keywords : ['AI SEO'],\n  featuredImage: 'https://images.pexels.com/photos/270637/pexels-photo-270637.jpeg?auto=compress&cs=tinysrgb&w=1200',\n  metaDescription: title + ' - Expert insights and strategies from Effective Marketer.'\n};\n\nreturn [{ json: payload }];"
    },
    
    "4_webhook_sender": {
      "type": "HTTP Request",
      "description": "Send article to blog webhook",
      "settings": {
        "method": "POST",
        "url": "https://effective-marketer-dashobard.onrender.com/api/blog/webhook",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{{ $json }}",
        "response_format": "json"
      }
    },
    
    "5_notification": {
      "type": "Discord/Slack/Email",
      "description": "Send notification about new draft",
      "conditional": true,
      "condition": "{{ $json.success === true }}",
      "message": "ðŸŽ‰ New blog article draft created: {{ $('3_content_processor').item.json.title }}\n\nDraft ID: {{ $json.draftId }}\nReview at: https://effectivemarketer.com/blog-admin"
    }
  },
  
  "manual_test_data": {
    "topic": "Google Autosuggest Optimization Strategies",
    "focus_keywords": ["Google Autosuggest", "SEO", "Brand Visibility"],
    "target_audience": "B2B Marketing Managers",
    "content_type": "Guide"
  },
  
  "scheduled_triggers": {
    "daily_content": {
      "schedule": "0 9 * * 1-5",
      "description": "Generate content Monday-Friday at 9 AM",
      "topics": [
        "Latest SEO trends and updates",
        "AI automation success stories",
        "Google algorithm changes",
        "Lead generation best practices",
        "Case studies and results"
      ]
    }
  }
}
